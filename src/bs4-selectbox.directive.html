<div class="bs4-selectbox-container">
    <span class="dropdown-toggle form-control d-flex align-items-center"
       role="button" id="bs4-selectbox-{{ bs4SelectboxCtrl.uuid }}" data-toggle="dropdown"
       aria-haspopup="true" aria-expanded="false">

        <span class="bs4-choices" ng-if="bs4SelectboxCtrl.multiple">
            <span class="badge badge-dark p-2 mr-2 d-inline-flex align-items-center justify-content-start text-left"
                  ng-repeat="item in bs4SelectboxCtrl.model">
                <span ng-transclude></span>
                <span class="badge-close" ng-click="bs4SelectboxCtrl.deselect($event, item);">âœ•</span>
            </span>
        </span>

        <span ng-if="!bs4SelectboxCtrl.multiple" class="mr-2">
            <span ng-if="bs4SelectboxCtrl.model.length" ng-transclude></span>
        </span>

        <input type="text" class="bs4-select-input flex-grow-1"
            ng-model="bs4SelectboxCtrl.search"
            ng-change="bs4SelectboxCtrl.change($event);"
            ng-keydown="bs4SelectboxCtrl.keydown($event);" />
    </span>
    <div class="dropdown-menu w-100" aria-labelledby="bs4-selectbox-{{ bs4SelectboxCtrl.uuid }}">
        <a href="#" class="dropdown-item"
            ng-repeat="item in bs4SelectboxCtrl.options | filter:bs4SelectboxCtrl.available"
            ng-click="bs4SelectboxCtrl.select($event, item);"
            ng-transclude>
        </a>
    </div>
</div>